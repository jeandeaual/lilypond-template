<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <script>
      (async () => {
        const user = 'jeandeaual';
        const repo = 'testly';
        for (const format of ['a4', 'letter', 'svg']) {
          const contents_api_url = `https://api.github.com/repos/${user}/${repo}/contents/${format}?ref=gh-pages`;
          const response = await fetch(contents_api_url);
          const data = await response.json();

          let list = document.createElement('ul');

          switch (format) {
            case 'svg':
              for (const file of data) {
                const ext = file.name.split('.').pop();
                if (ext !== 'svg') {
                  continue;
                }
                let img = document.createElement('img');
                img.setAttribute('src', file.path);
                img.setAttribute('alt', file.name);
                // img.setAttribute('height', 800);
                // img.setAttribute('width', 600);
                list.appendChild(img);
              }
              break;
            default:
              for (const file of data) {
                let elem = document.createElement('li');
                let link = document.createElement('a');
                link.setAttribute('href', file.path);
                link.innerText = file.name;
                elem.appendChild(link);
                list.appendChild(elem);
              }
              break;
          }

          document.getElementsByTagName('body')[0].appendChild(list);
        }
      })()
    </script>
  <body>
</html>
